!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){},function(t,e,n){"use strict";n.r(e);n(0);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function u(t,e,n,r){return new(n||(n=Promise))((function(o,i){function u(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,s)}c((r=r.apply(t,e||[])).next())}))}function s(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(t,u)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}Object.create;function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return u}function l(t,e){for(var n=0,r=e.length,o=t.length;n<r;n++,o++)t[o]=e[n];return t}function f(t){return this instanceof f?(this.v=t,this):new f(t)}function d(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),i=[];return r={},u("next"),u("throw"),u("return"),r[Symbol.asyncIterator]=function(){return this},r;function u(t){o[t]&&(r[t]=function(e){return new Promise((function(n,r){i.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{(n=o[t](e)).value instanceof f?Promise.resolve(n.value.v).then(c,a):l(i[0][2],n)}catch(t){l(i[0][3],t)}var n}function c(t){s("next",t)}function a(t){s("throw",t)}function l(t,e){t(e),i.shift(),i.length&&s(i[0][0],i[0][1])}}function h(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=c(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,o){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,o,(e=t[n](e)).done,e.value)}))}}}Object.create;function p(t){return"function"==typeof t}function v(t){var e=t((function(t){Error.call(t),t.stack=(new Error).stack}));return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var y=v((function(t){return function(e){t(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}}));function b(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var m=function(){function t(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}var e;return t.prototype.unsubscribe=function(){var t,e,n,r,o;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var u=c(i),s=u.next();!s.done;s=u.next()){s.value.remove(this)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=u.return)&&e.call(u)}finally{if(t)throw t.error}}else i.remove(this);var f=this.initialTeardown;if(p(f))try{f()}catch(t){o=t instanceof y?t.errors:[t]}var d=this._teardowns;if(d){this._teardowns=null;try{for(var h=c(d),v=h.next();!v.done;v=h.next()){var b=v.value;try{g(b)}catch(t){o=null!=o?o:[],t instanceof y?o=l(l([],a(o)),a(t.errors)):o.push(t)}}}catch(t){n={error:t}}finally{try{v&&!v.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}}if(o)throw new y(o)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)g(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(e)}},t.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},t.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},t.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&b(e,t)},t.prototype.remove=function(e){var n=this._teardowns;n&&b(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t}();m.EMPTY;function w(t){return t instanceof m||t&&"closed"in t&&p(t.remove)&&p(t.add)&&p(t.unsubscribe)}function g(t){p(t)?t():t.unsubscribe()}var _=function(t){function e(e,n){return t.call(this)||this}return o(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(m),S={setInterval:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=S.delegate;return((null==n?void 0:n.setInterval)||setInterval).apply(void 0,l([],a(t)))},clearInterval:function(t){var e=S.delegate;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0},x=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return o(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),S.setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return e;S.clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n,r=!1;try{this.work(t)}catch(t){r=!0,n=!!t&&t||new Error(t)}if(r)return this.unsubscribe(),n},e.prototype.unsubscribe=function(){if(!this.closed){var e=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,b(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(_),E={now:function(){return(E.delegate||Date).now()},delegate:void 0},T=function(){function t(e,n){void 0===n&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.schedulerActionCtor(this,t).schedule(n,e)},t.now=E.now,t}(),j=new(function(t){function e(e,n){void 0===n&&(n=T.now);var r=t.call(this,e,n)||this;return r.actions=[],r._active=!1,r._scheduled=void 0,r}return o(e,t),e.prototype.flush=function(t){var e=this.actions;if(this._active)e.push(t);else{var n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(T))(x),O=j,P={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},L={setTimeout:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=L.delegate;return((null==n?void 0:n.setTimeout)||setTimeout).apply(void 0,l([],a(t)))},clearTimeout:function(t){var e=L.delegate;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function I(t){L.setTimeout((function(){var e=P.onUnhandledError;if(!e)throw t;e(t)}))}function A(){}var k=M("C",void 0,void 0);function M(t,e,n){return{kind:t,value:e,error:n}}var D=function(t){function e(e){var n=t.call(this)||this;return n.isStopped=!1,e?(n.destination=e,w(e)&&e.add(n)):n.destination=C,n}return o(e,t),e.create=function(t,e,n){return new H(t,e,n)},e.prototype.next=function(t){this.isStopped?q(function(t){return M("N",t,void 0)}(t),this):this._next(t)},e.prototype.error=function(t){this.isStopped?q(M("E",void 0,t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?q(k,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(m),H=function(t){function e(e,n,r){var o,i=t.call(this)||this;if(p(e))o=e;else if(e){var u;o=e.next,n=e.error,r=e.complete,i&&P.useDeprecatedNextContext?(u=Object.create(e)).unsubscribe=function(){return i.unsubscribe()}:u=e,o=null==o?void 0:o.bind(u),n=null==n?void 0:n.bind(u),r=null==r?void 0:r.bind(u)}return i.destination={next:o?R(o,i):A,error:R(null!=n?n:U,i),complete:r?R(r,i):A},i}return o(e,t),e}(D);function R(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{t.apply(void 0,l([],a(n)))}catch(t){if(P.useDeprecatedSynchronousErrorHandling){if(!e._syncErrorHack_isSubscribing)throw t;e.__syncError=t}else I(t)}}}function U(t){throw t}function q(t,e){var n=P.onStoppedNotification;n&&L.setTimeout((function(){return n(t,e)}))}var C={closed:!0,next:A,error:U,complete:A},N="function"==typeof Symbol&&Symbol.observable||"@@observable";function $(t){return t}function F(t){return 0===t.length?$:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var G=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r,o=(r=t)&&r instanceof D||function(t){return t&&p(t.next)&&p(t.error)&&p(t.complete)}(r)&&w(r)?t:new H(t,e,n);if(P.useDeprecatedSynchronousErrorHandling)this._deprecatedSyncErrorSubscribe(o);else{var i=this.operator,u=this.source;o.add(i?i.call(o,u):u?this._subscribe(o):this._trySubscribe(o))}return o},t.prototype._deprecatedSyncErrorSubscribe=function(t){var e=t;e._syncErrorHack_isSubscribing=!0;var n=this.operator;if(n)t.add(n.call(t,this.source));else try{t.add(this._subscribe(t))}catch(t){e.__syncError=t}for(var r=e;r;){if("__syncError"in r)try{throw r.__syncError}finally{t.unsubscribe()}r=r.destination}e._syncErrorHack_isSubscribing=!1},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=J(e))((function(e,r){var o;o=n.subscribe((function(e){try{t(e)}catch(t){r(t),null==o||o.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)},t.prototype[N]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length?F(t)(this):this},t.prototype.toPromise=function(t){var e=this;return new(t=J(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function J(t){var e;return null!==(e=null!=t?t:P.Promise)&&void 0!==e?e:Promise}function X(t){return t&&p(t.schedule)}function Y(t,e,n){void 0===t&&(t=0),void 0===n&&(n=O);var r=-1;return null!=e&&(X(e)?n=e:r=e),new G((function(e){var o,i=(o=t)instanceof Date&&!isNaN(o)?+t-n.now():t;i<0&&(i=0);var u=0;return n.schedule((function(){e.closed||(e.next(u++),0<=r?this.schedule(void 0,r):e.complete())}),i)}))}function B(t,e){return new G((function(n){var r=0;return e.schedule((function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())}))}))}var z=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function V(t){return p(null==t?void 0:t.then)}var W="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function K(t){return p(t[N])}function Q(t){return p(null==t?void 0:t[W])}function Z(t){return Symbol.asyncIterator&&p(null==t?void 0:t[Symbol.asyncIterator])}function tt(t){return new TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function et(t){return d(this,arguments,(function(){var e,n,r;return s(this,(function(o){switch(o.label){case 0:e=t.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,f(e.read())];case 3:return n=o.sent(),r=n.value,n.done?[4,f(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,f(r)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}}))}))}function nt(t){return p(null==t?void 0:t.getReader)}function rt(t){if(t instanceof G)return t;if(null!=t){if(K(t))return r=t,new G((function(t){var e=r[N]();if(p(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(z(t))return ot(t);if(V(t))return n=t,new G((function(t){n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,I)}));if(Z(t))return it(t);if(Q(t))return e=t,new G((function(t){var n,r;try{for(var o=c(e),i=o.next();!i.done;i=o.next()){var u=i.value;if(t.next(u),t.closed)return}}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}t.complete()}));if(nt(t))return it(et(t))}var e,n,r;throw tt(t)}function ot(t){return new G((function(e){for(var n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()}))}function it(t){return new G((function(e){(function(t,e){var n,r,o,i;return u(this,void 0,void 0,(function(){var u,c;return s(this,(function(s){switch(s.label){case 0:s.trys.push([0,5,6,11]),n=h(t),s.label=1;case 1:return[4,n.next()];case 2:if((r=s.sent()).done)return[3,4];if(u=r.value,e.next(u),e.closed)return[2];s.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=s.sent(),o={error:c},[3,11];case 6:return s.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:s.sent(),s.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}}))}))})(t,e).catch((function(t){return e.error(t)}))}))}function ut(t,e){return e?B(t,e):ot(t)}function st(t){return t[t.length-1]}function ct(t){return X(st(t))?t.pop():void 0}function at(t){return function(e){if(function(t){return p(null==t?void 0:t.lift)}(e))return e.lift((function(e){try{return t(e,this)}catch(t){this.error(t)}}));throw new TypeError("Unable to lift unknown Observable type")}}var lt=function(t){function e(e,n,r,o,i){var u=t.call(this,e)||this;return u.onFinalize=i,u._next=n?function(t){try{n(t)}catch(t){e.error(t)}}:t.prototype._next,u._error=o?function(t){try{o(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._error,u._complete=r?function(){try{r()}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,u}return o(e,t),e.prototype.unsubscribe=function(){var e,n=this.closed;t.prototype.unsubscribe.call(this),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))},e}(D);function ft(t,e){return at((function(n,r){var o=0;n.subscribe(new lt(r,(function(n){r.next(t.call(e,n,o++))})))}))}function dt(t){switch(t.responseType){case"json":if("response"in t)return t.response;var e=t;return JSON.parse(e.responseText);case"document":return t.responseXML;case"text":default:return"response"in t?t.response:(e=t).responseText}}var ht=function(t,e,n,r){void 0===r&&(r="download_load"),this.originalEvent=t,this.xhr=e,this.request=n,this.type=r;var o=e.status,i=e.responseType;this.status=null!=o?o:0,this.responseType=null!=i?i:"";var u=e.getAllResponseHeaders();this.responseHeaders=u?u.split("\n").reduce((function(t,e){var n=e.indexOf(": ");return t[e.slice(0,n)]=e.slice(n+2),t}),{}):{},this.response=dt(e);var s=t.loaded,c=t.total;this.loaded=s,this.total=c},pt=v((function(t){return function(t,e,n){var r;this.message=t,this.name="AjaxError",this.xhr=e,this.request=n,this.status=e.status,this.responseType=e.responseType;try{r=dt(e)}catch(t){r=e.responseText}this.response=r}})),vt=function(){function t(t,e){return pt.call(this,"ajax timeout",t,e),this.name="AjaxTimeoutError",this}return t.prototype=Object.create(pt.prototype),t}();function yt(t,e){return Et({method:"GET",url:t,headers:e})}function bt(t,e,n){return Et({method:"POST",url:t,body:e,headers:n})}function mt(t,e){return Et({method:"DELETE",url:t,headers:e})}function wt(t,e,n){return Et({method:"PUT",url:t,body:e,headers:n})}function gt(t,e,n){return Et({method:"PATCH",url:t,body:e,headers:n})}var _t=ft((function(t){return t.response}));function St(t,e){return _t(Et({method:"GET",url:t,headers:e}))}var xt,Et=((xt=function(t){return function(t){return new G((function(e){var n,r,o,u=t.queryParams,s=t.body,c=t.headers,a=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}(t,["queryParams","body","headers"]),l=a.url;if(!l)throw new TypeError("url is required");if(u)if(l.includes("?")){var f=l.split("?");if(2<f.length)throw new TypeError("invalid url");o=new URLSearchParams(f[1]),new URLSearchParams(u).forEach((function(t,e){return o.set(e,t)})),l=f[0]+"?"+o}else l=l+"?"+(o=new URLSearchParams(u));var d={};if(c)for(var h in c)c.hasOwnProperty(h)&&(d[h.toLowerCase()]=c[h]);t.crossDomain||"x-requested-with"in d||(d["x-requested-with"]="XMLHttpRequest");var p=a.withCredentials,v=a.xsrfCookieName,y=a.xsrfHeaderName;if((p||!a.crossDomain)&&v&&y){var b=null!==(r=null===(n=null===document||void 0===document?void 0:document.cookie.match(new RegExp("(^|;\\s*)("+v+")=([^;]*)")))||void 0===n?void 0:n.pop())&&void 0!==r?r:"";b&&(d[y]=b)}var m,w=function(t,e){var n;if(!t||"string"==typeof t||function(t){return"undefined"!=typeof FormData&&t instanceof FormData}(t)||function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}(t)||function(t){return Lt(t,"ArrayBuffer")}(t)||function(t){return Lt(t,"File")}(t)||function(t){return Lt(t,"Blob")}(t)||function(t){return"undefined"!=typeof ReadableStream&&t instanceof ReadableStream}(t))return t;if(function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView(t)}(t))return t.buffer;if("object"==typeof t)return e["content-type"]=null!==(n=e["content-type"])&&void 0!==n?n:"application/json;charset=utf-8",JSON.stringify(t);throw new TypeError("Unknown body type")}(s,d),g=i(i({async:!0,crossDomain:!0,withCredentials:!1,method:"GET",timeout:0,responseType:"json"},a),{url:l,headers:d,body:w});m=t.createXHR?t.createXHR():new XMLHttpRequest;var _=t.progressSubscriber,S=t.includeDownloadProgress,x=void 0!==S&&S,E=t.includeUploadProgress,T=void 0!==E&&E,j=function(t,n){m.addEventListener(t,(function(){var t,r=n();null===(t=null==_?void 0:_.error)||void 0===t||t.call(_,r),e.error(r)}))};j("timeout",(function(){return new vt(m,g)})),j("abort",(function(){return new pt("aborted",m,g)}));var O=function(t,e){return new ht(e,m,g,t+"_"+e.type)},P=function(t,n,r){t.addEventListener(n,(function(t){e.next(O(r,t))}))};T&&[Tt,jt,Ot].forEach((function(t){return P(m.upload,t,"upload")})),_&&[Tt,jt].forEach((function(t){return m.upload.addEventListener(t,(function(t){var e;return null===(e=null==_?void 0:_.next)||void 0===e?void 0:e.call(_,t)}))})),x&&[Tt,jt].forEach((function(t){return P(m,t,"download")}));var L=function(t){var n="ajax error"+(t?" "+t:"");e.error(new pt(n,m,g))};m.addEventListener("error",(function(t){var e;null===(e=null==_?void 0:_.error)||void 0===e||e.call(_,t),L()})),m.addEventListener(Ot,(function(t){var n,r,o=m.status;if(o<400){null===(n=null==_?void 0:_.complete)||void 0===n||n.call(_);var i=void 0;try{i=O("download",t)}catch(t){return void e.error(t)}e.next(i),e.complete()}else null===(r=null==_?void 0:_.error)||void 0===r||r.call(_,t),L(o)}));var I=g.user,A=g.method,k=g.async;for(var h in I?m.open(A,l,k,I,g.password):m.open(A,l,k),k&&(m.timeout=g.timeout,m.responseType=g.responseType),"withCredentials"in m&&(m.withCredentials=g.withCredentials),d)d.hasOwnProperty(h)&&m.setRequestHeader(h,d[h]);return w?m.send(w):m.send(),function(){m&&4!==m.readyState&&m.abort()}}))}("string"==typeof t?{url:t}:t)}).get=yt,xt.post=bt,xt.delete=mt,xt.put=wt,xt.patch=gt,xt.getJSON=St,xt),Tt="loadstart",jt="progress",Ot="load";var Pt=Object.prototype.toString;function Lt(t,e){return Pt.call(t)==="[object "+e+"]"}function It(t,e,n){return void 0===n&&(n=1/0),p(e)?It((function(n,r){return ft((function(t,o){return e(n,t,r,o)}))(rt(t(n,r)))}),n):("number"==typeof e&&(n=e),at((function(e,r){return function(t,e,n,r,o,i,u,s){var c=[],a=0,l=0,f=!1,d=function(){!f||c.length||a||e.complete()},h=function(t){return a<r?p(t):c.push(t)},p=function(t){i&&e.next(t),a++;var s=!1;rt(n(t,l++)).subscribe(new lt(e,(function(t){null==o||o(t),i?h(t):e.next(t)}),(function(){s=!0}),void 0,(function(){if(s)try{a--;for(var t=function(){var t=c.shift();u?e.add(u.schedule((function(){return p(t)}))):p(t)};c.length&&a<r;)t();d()}catch(t){e.error(t)}})))};return t.subscribe(new lt(e,h,(function(){f=!0,d()}))),function(){null==s||s()}}(e,r,t,n)})))}function At(t){const e=document.createElement("li");return e.classList.add("unit"),e.dataset.unitId=t.id,t.subject.length>15&&(t.subject=t.subject.substring(0,15),t.subject+="..."),e.innerHTML=`\n      <div class="unit__author">\n        <span class="unit-autor">${t.from}</span>\n      </div>\n      <div class="unit__body">\n        <span class="unit-text">${t.subject}</span>\n      </div>\n      <div class="unit__timestamp">\n        <span class="unit-timestamp">${function(t){const e=new Date(t),n=e.getDate(),r=e.getMonth()+1,o=e.getFullYear(),i=e.getHours(),u=e.getMinutes(),s=t=>t<10?"0"+t:t;return`${s(i)}:${s(u)} ${s(n)}.${s(r)}.${o}`}(t.received)}</span>\n      </div>\n  `,e}class kt{constructor(){this.idSet=new Set,this.error=null}init(){this.renderContainer(),this.bindToDOM(),this.addListeners(),this.streamSubsrcb()}renderContainer(){document.body.append(function(){const t=document.createElement("div");return t.classList.add("wrapper"),t.innerHTML='\n  <div class="unit-container">\n    <div class="container__header">\n      <h2 class="widget-header">Incoming</h2>\n      <span class="btn">Clear list</span>\n    </div>\n    <ul class="unit-list">\n    </ul>\n    <div class="container__footer">\n    </div>\n  </div>\n    ',t}());const t={id:"zero",from:"@helper",subject:"NO NEW MESSAGES",body:"Long message body here",received:Date.now()};this.noMesssagesUnit=At(t)}bindToDOM(){this.wrapper=document.querySelector("div.wrapper"),this.clearer=document.querySelector(".btn"),this.unitList=document.querySelector("ul.unit-list"),this.unitList.prepend(this.noMesssagesUnit)}addUnit(t){this.noMesssagesUnit.remove();const e=At(t);this.unitList.prepend(e)}addListeners(){this.clearer.addEventListener("click",t=>{t.preventDefault(),this.clearList()},!1)}streamSubsrcb(){var t,e;this.message$=(t=3e3,void 0===t&&(t=0),void 0===e&&(e=j),t<0&&(t=0),Y(t,t,e)).pipe(It(()=>Et.getJSON("https://rxjs-email.herokuapp.com/messages/unread").pipe(ft(t=>{const e=t.messages.filter(t=>!this.idSet.has(t.id));return e.forEach(t=>this.idSet.add(t.id)),e}),function t(e){return at((function(n,r){var o,i=null,u=!1;i=n.subscribe(new lt(r,void 0,void 0,(function(s){o=rt(e(s,t(e)(n))),i?(i.unsubscribe(),i=null,o.subscribe(r)):u=!0}))),u&&(i.unsubscribe(),i=null,o.subscribe(r))}))}(()=>{!function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=ct(t);n?B(t,n):ut(t)}([])})))).subscribe(t=>{t.forEach(t=>this.addUnit(t))})}streamUnSubsrcb(){this.message$.unsubscribe()}clearList(){this.unitList.innerHTML="",this.idSet.clear(),this.createReq({method:"GET"}),this.unitList.prepend(this.noMesssagesUnit)}async createReq(t){const e="https://rxjs-email.herokuapp.com/messages/clear?"+t.query,n=await fetch(e,{method:t.method,headers:new Headers({"content-type":"application/json"}),body:t.data?JSON.stringify(t.data):null});return await n.json()}}(new kt).init()}]);
//# sourceMappingURL=app.js.map